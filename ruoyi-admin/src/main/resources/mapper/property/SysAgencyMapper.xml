<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.aylives.ruoyi.admin.property.mapper.SysAgencyMapper">
    
    <resultMap type="SysAgency" id="SysAgencyResult">
        <result property="id"    column="ID"    />
        <result property="agencyCode"    column="AGENCY_CODE"    />
        <result property="imgUrl"    column="IMG_URL"    />
        <result property="depth"    column="DEPTH"    />
        <result property="type"    column="TYPE"    />
        <result property="isVerifi"    column="IS_VERIFI"    />
        <result property="name"    column="NAME"    />
        <result property="address"    column="ADDRESS"    />
        <result property="contact"    column="CONTACT"    />
        <result property="workTime"    column="WORK_TIME"    />
        <result property="introduction"    column="INTRODUCTION"    />
        <result property="pid"    column="PID"    />
        <result property="path"    column="PATH"    />
        <result property="latitude"    column="LATITUDE"    />
        <result property="longitude"    column="LONGITUDE"    />
        <result property="city"    column="CITY"    />
        <result property="province"    column="PROVINCE"    />
        <result property="isDeleted"    column="IS_DELETED"    />
        <result property="createdBy"    column="CREATED_BY"    />
        <result property="createdDate"    column="CREATED_DATE"    />
        <result property="lastUpdatedBy"    column="LAST_UPDATED_BY"    />
        <result property="lastUpdatedDate"    column="LAST_UPDATED_DATE"    />
        <result property="company"    column="COMPANY"    />
        <result property="isOpened"    column="is_opened"    />
        <result property="managerHouse"    column="manager_house"    />
        <result property="monitorPhone"    column="monitor_phone"    />
        <result property="houseCommId"    column="house_comm_id"    />
        <result property="partyDevUrl"    column="party_dev_url"    />
        <result property="partyIconUrl"    column="party_icon_url"    />
        <result property="partyAgencyUrl"    column="party_agency_url"    />
        <result property="partyEnable"    column="party_enable"    />
        <result property="updatedDate"    column="updated_date"    />
    </resultMap>

    <sql id="selectSysAgencyVo">
        select ID, AGENCY_CODE, IMG_URL, DEPTH, TYPE, IS_VERIFI, NAME, ADDRESS, CONTACT, WORK_TIME, INTRODUCTION, PID, PATH, LATITUDE, LONGITUDE, CITY, PROVINCE, IS_DELETED, CREATED_BY, CREATED_DATE, LAST_UPDATED_BY, LAST_UPDATED_DATE, COMPANY, is_opened, manager_house, monitor_phone, house_comm_id, party_dev_url, party_icon_url, party_agency_url, party_enable, updated_date from aomygod.sys_agency
    </sql>

    <select id="selectSysAgencyList" parameterType="SysAgency" resultMap="SysAgencyResult">
        <include refid="selectSysAgencyVo"/>
        <where>  
            <if test="type != null  and type != ''"> and TYPE = #{type}</if>
            <if test="isVerifi != null "> and IS_VERIFI = #{isVerifi}</if>
            <if test="name != null  and name != ''"> and `name` like concat('%',#{name},'%')</if>
        </where>
    </select>
    
    <select id="selectSysAgencyById" parameterType="Integer" resultMap="SysAgencyResult">
        <include refid="selectSysAgencyVo"/>
        where ID = #{id}
    </select>
        
    <insert id="insertSysAgency" parameterType="SysAgency" useGeneratedKeys="true" keyProperty="id">
        insert into aomygod.sys_agency
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="agencyCode != null  and agencyCode != ''">AGENCY_CODE,</if>
            <if test="imgUrl != null  and imgUrl != ''">IMG_URL,</if>
            <if test="depth != null  and depth != ''">DEPTH,</if>
            <if test="type != null  and type != ''">TYPE,</if>
            <if test="isVerifi != null ">IS_VERIFI,</if>
            <if test="name != null  and name != ''">NAME,</if>
            <if test="address != null  and address != ''">ADDRESS,</if>
            <if test="contact != null  and contact != ''">CONTACT,</if>
            <if test="workTime != null  and workTime != ''">WORK_TIME,</if>
            <if test="introduction != null  and introduction != ''">INTRODUCTION,</if>
            <if test="pid != null ">PID,</if>
            <if test="path != null  and path != ''">PATH,</if>
            <if test="latitude != null ">LATITUDE,</if>
            <if test="longitude != null ">LONGITUDE,</if>
            <if test="city != null ">CITY,</if>
            <if test="province != null ">PROVINCE,</if>
            <if test="isDeleted != null ">IS_DELETED,</if>
            <if test="createdBy != null  and createdBy != ''">CREATED_BY,</if>
            <if test="createdDate != null ">CREATED_DATE,</if>
            <if test="lastUpdatedBy != null  and lastUpdatedBy != ''">LAST_UPDATED_BY,</if>
            <if test="lastUpdatedDate != null ">LAST_UPDATED_DATE,</if>
            <if test="company != null  and company != ''">COMPANY,</if>
            <if test="isOpened != null ">is_opened,</if>
            <if test="managerHouse != null ">manager_house,</if>
            <if test="monitorPhone != null  and monitorPhone != ''">monitor_phone,</if>
            <if test="houseCommId != null ">house_comm_id,</if>
            <if test="partyDevUrl != null  and partyDevUrl != ''">party_dev_url,</if>
            <if test="partyIconUrl != null  and partyIconUrl != ''">party_icon_url,</if>
            <if test="partyAgencyUrl != null  and partyAgencyUrl != ''">party_agency_url,</if>
            <if test="partyEnable != null ">party_enable,</if>
            <if test="updatedDate != null ">updated_date,</if>
         </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="agencyCode != null  and agencyCode != ''">#{agencyCode},</if>
            <if test="imgUrl != null  and imgUrl != ''">#{imgUrl},</if>
            <if test="depth != null  and depth != ''">#{depth},</if>
            <if test="type != null  and type != ''">#{type},</if>
            <if test="isVerifi != null ">#{isVerifi},</if>
            <if test="name != null  and name != ''">#{name},</if>
            <if test="address != null  and address != ''">#{address},</if>
            <if test="contact != null  and contact != ''">#{contact},</if>
            <if test="workTime != null  and workTime != ''">#{workTime},</if>
            <if test="introduction != null  and introduction != ''">#{introduction},</if>
            <if test="pid != null ">#{pid},</if>
            <if test="path != null  and path != ''">#{path},</if>
            <if test="latitude != null ">#{latitude},</if>
            <if test="longitude != null ">#{longitude},</if>
            <if test="city != null ">#{city},</if>
            <if test="province != null ">#{province},</if>
            <if test="isDeleted != null ">#{isDeleted},</if>
            <if test="createdBy != null  and createdBy != ''">#{createdBy},</if>
            <if test="createdDate != null ">#{createdDate},</if>
            <if test="lastUpdatedBy != null  and lastUpdatedBy != ''">#{lastUpdatedBy},</if>
            <if test="lastUpdatedDate != null ">#{lastUpdatedDate},</if>
            <if test="company != null  and company != ''">#{company},</if>
            <if test="isOpened != null ">#{isOpened},</if>
            <if test="managerHouse != null ">#{managerHouse},</if>
            <if test="monitorPhone != null  and monitorPhone != ''">#{monitorPhone},</if>
            <if test="houseCommId != null ">#{houseCommId},</if>
            <if test="partyDevUrl != null  and partyDevUrl != ''">#{partyDevUrl},</if>
            <if test="partyIconUrl != null  and partyIconUrl != ''">#{partyIconUrl},</if>
            <if test="partyAgencyUrl != null  and partyAgencyUrl != ''">#{partyAgencyUrl},</if>
            <if test="partyEnable != null ">#{partyEnable},</if>
            <if test="updatedDate != null ">#{updatedDate},</if>
         </trim>
    </insert>

    <update id="updateSysAgency" parameterType="SysAgency">
        update aomygod.sys_agency
        <trim prefix="SET" suffixOverrides=",">
            <if test="agencyCode != null  and agencyCode != ''">AGENCY_CODE = #{agencyCode},</if>
            <if test="imgUrl != null  and imgUrl != ''">IMG_URL = #{imgUrl},</if>
            <if test="depth != null  and depth != ''">DEPTH = #{depth},</if>
            <if test="type != null  and type != ''">TYPE = #{type},</if>
            <if test="isVerifi != null ">IS_VERIFI = #{isVerifi},</if>
            <if test="name != null  and name != ''">NAME = #{name},</if>
            <if test="address != null  and address != ''">ADDRESS = #{address},</if>
            <if test="contact != null  and contact != ''">CONTACT = #{contact},</if>
            <if test="workTime != null  and workTime != ''">WORK_TIME = #{workTime},</if>
            <if test="introduction != null  and introduction != ''">INTRODUCTION = #{introduction},</if>
            <if test="pid != null ">PID = #{pid},</if>
            <if test="path != null  and path != ''">PATH = #{path},</if>
            <if test="latitude != null ">LATITUDE = #{latitude},</if>
            <if test="longitude != null ">LONGITUDE = #{longitude},</if>
            <if test="city != null ">CITY = #{city},</if>
            <if test="province != null ">PROVINCE = #{province},</if>
            <if test="isDeleted != null ">IS_DELETED = #{isDeleted},</if>
            <if test="createdBy != null  and createdBy != ''">CREATED_BY = #{createdBy},</if>
            <if test="createdDate != null ">CREATED_DATE = #{createdDate},</if>
            <if test="lastUpdatedBy != null  and lastUpdatedBy != ''">LAST_UPDATED_BY = #{lastUpdatedBy},</if>
            <if test="lastUpdatedDate != null ">LAST_UPDATED_DATE = #{lastUpdatedDate},</if>
            <if test="company != null  and company != ''">COMPANY = #{company},</if>
            <if test="isOpened != null ">is_opened = #{isOpened},</if>
            <if test="managerHouse != null ">manager_house = #{managerHouse},</if>
            <if test="monitorPhone != null  and monitorPhone != ''">monitor_phone = #{monitorPhone},</if>
            <if test="houseCommId != null ">house_comm_id = #{houseCommId},</if>
            <if test="partyDevUrl != null  and partyDevUrl != ''">party_dev_url = #{partyDevUrl},</if>
            <if test="partyIconUrl != null  and partyIconUrl != ''">party_icon_url = #{partyIconUrl},</if>
            <if test="partyAgencyUrl != null  and partyAgencyUrl != ''">party_agency_url = #{partyAgencyUrl},</if>
            <if test="partyEnable != null ">party_enable = #{partyEnable},</if>
            <if test="updatedDate != null ">updated_date = #{updatedDate},</if>
        </trim>
        where ID = #{id}
    </update>

    <delete id="deleteSysAgencyById" parameterType="Integer">
        delete from aomygod.sys_agency where ID = #{id}
    </delete>

    <delete id="deleteSysAgencyByIds" parameterType="String">
        delete from aomygod.sys_agency where ID in
        <foreach item="id" collection="array" open="(" separator="," close=")">
            #{id}
        </foreach>
    </delete>

    <select id="selectViewByIds" resultType="cn.aylives.ruoyi.admin.property.domain.AgencyView">

        select *   from aomygod.view_agency where distAgencyId in
        <foreach item="id" collection="list" open="(" separator="," close=")">
            #{id}
        </foreach>

    </select>
    
</mapper>