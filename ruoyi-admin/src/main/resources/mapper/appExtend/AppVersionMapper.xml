<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.aylives.ruoyi.admin.appExtend.mapper.AppVersionMapper">
    
    <resultMap type="AppVersion" id="AppVersionResult">
        <result property="id"    column="id"    />
        <result property="version"    column="version"    />
        <result property="packageLink"    column="package_link"    />
        <result property="storeLink"    column="store_link"    />
        <result property="isForceUpdate"    column="is_force_update"    />
        <result property="isUpdate"    column="is_update"    />
        <result property="updateTitle"    column="update_title"    />
        <result property="updateContent"    column="update_content"    />
        <result property="createdDate"    column="created_date"    />
        <result property="type"    column="type"    />
        <result property="appType"    column="app_type"    />
    </resultMap>

    <sql id="selectAppVersionVo">
        select id, version, package_link, store_link, is_force_update, is_update, update_title, update_content, created_date, type, app_type from aomygod.app_version
    </sql>

    <select id="selectAppVersionList" parameterType="AppVersion" resultMap="AppVersionResult">
        <include refid="selectAppVersionVo"/>
        <where>  
        </where>
    </select>
    
    <select id="selectAppVersionById" parameterType="Long" resultMap="AppVersionResult">
        <include refid="selectAppVersionVo"/>
        where id = #{id}
    </select>
        
    <insert id="insertAppVersion" parameterType="AppVersion" useGeneratedKeys="true" keyProperty="id">
        insert into aomygod.app_version
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="version != null  and version != ''">version,</if>
            <if test="packageLink != null  and packageLink != ''">package_link,</if>
            <if test="storeLink != null  and storeLink != ''">store_link,</if>
            <if test="isForceUpdate != null ">is_force_update,</if>
            <if test="isUpdate != null ">is_update,</if>
            <if test="updateTitle != null  and updateTitle != ''">update_title,</if>
            <if test="updateContent != null  and updateContent != ''">update_content,</if>
            <if test="createdDate != null ">created_date,</if>
            <if test="type != null ">type,</if>
            <if test="appType != null ">app_type,</if>
         </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="version != null  and version != ''">#{version},</if>
            <if test="packageLink != null  and packageLink != ''">#{packageLink},</if>
            <if test="storeLink != null  and storeLink != ''">#{storeLink},</if>
            <if test="isForceUpdate != null ">#{isForceUpdate},</if>
            <if test="isUpdate != null ">#{isUpdate},</if>
            <if test="updateTitle != null  and updateTitle != ''">#{updateTitle},</if>
            <if test="updateContent != null  and updateContent != ''">#{updateContent},</if>
            <if test="createdDate != null ">#{createdDate},</if>
            <if test="type != null ">#{type},</if>
            <if test="appType != null ">#{appType},</if>
         </trim>
    </insert>

    <update id="updateAppVersion" parameterType="AppVersion">
        update aomygod.app_version
        <trim prefix="SET" suffixOverrides=",">
            <if test="version != null  and version != ''">version = #{version},</if>
            <if test="packageLink != null  and packageLink != ''">package_link = #{packageLink},</if>
            <if test="storeLink != null  and storeLink != ''">store_link = #{storeLink},</if>
            <if test="isForceUpdate != null ">is_force_update = #{isForceUpdate},</if>
            <if test="isUpdate != null ">is_update = #{isUpdate},</if>
            <if test="updateTitle != null  and updateTitle != ''">update_title = #{updateTitle},</if>
            <if test="updateContent != null  and updateContent != ''">update_content = #{updateContent},</if>
            <if test="createdDate != null ">created_date = #{createdDate},</if>
            <if test="type != null ">type = #{type},</if>
            <if test="appType != null ">app_type = #{appType},</if>
        </trim>
        where id = #{id}
    </update>

    <delete id="deleteAppVersionById" parameterType="Long">
        delete from aomygod.app_version where id = #{id}
    </delete>

    <delete id="deleteAppVersionByIds" parameterType="String">
        delete from aomygod.app_version where id in
        <foreach item="id" collection="array" open="(" separator="," close=")">
            #{id}
        </foreach>
    </delete>
    
</mapper>