<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ruoyi.admin.party.mapper.ActivityMapper">
    
    <resultMap type="Activity" id="ActivityResult">
        <result property="id"    column="id"    />
        <result property="title"    column="title"    />
        <result property="desc"    column="desc"    />
        <result property="descUrl"    column="desc_url"    />
        <result property="imgUrl"    column="img_url"    />
        <result property="createdDate"    column="created_date"    />
        <result property="agencyId"    column="agency_id"    />
        <result property="updatedDate"    column="updated_date"    />
    </resultMap>
	
	<sql id="selectActivityVo">
        select id, title, `desc`, desc_url, img_url, created_date, agency_id, updated_date from aomygod.party_activity
    </sql>
	
    <select id="selectActivityList" parameterType="Activity" resultMap="ActivityResult">
        <include refid="selectActivityVo"/>
        <where>  
            <if test="id != null "> and id = #{id}</if>
             <if test="title != null  and title != '' "> and title = #{title}</if>
             <if test="desc != null  and desc != '' "> and `desc` = #{desc}</if>
             <if test="descUrl != null  and descUrl != '' "> and desc_url = #{descUrl}</if>
             <if test="imgUrl != null  and imgUrl != '' "> and img_url = #{imgUrl}</if>
             <if test="createdDate != null "> and created_date = #{createdDate}</if>
             <if test="agencyId != null "> and agency_id = #{agencyId}</if>
             <if test="updatedDate != null "> and updated_date = #{updatedDate}</if>
         </where>
    </select>
    
    <select id="selectActivityById" parameterType="Integer" resultMap="ActivityResult">
        <include refid="selectActivityVo"/>
        where id = #{id}
    </select>
        
    <insert id="insertActivity" parameterType="Activity" useGeneratedKeys="true" keyProperty="id">
        insert into aomygod.party_activity
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="title != null  and title != ''  ">title,</if>
			<if test="desc != null  and desc != ''  ">`desc`,</if>
			<if test="descUrl != null  and descUrl != ''  ">desc_url,</if>
			<if test="imgUrl != null  and imgUrl != ''  ">img_url,</if>
			<if test="createdDate != null  ">created_date,</if>
			<if test="agencyId != null  ">agency_id,</if>
			<if test="updatedDate != null  ">updated_date,</if>
         </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="title != null  and title != ''  ">#{title},</if>
			<if test="desc != null  and desc != ''  ">#{desc},</if>
			<if test="descUrl != null  and descUrl != ''  ">#{descUrl},</if>
			<if test="imgUrl != null  and imgUrl != ''  ">#{imgUrl},</if>
			<if test="createdDate != null  ">#{createdDate},</if>
			<if test="agencyId != null  ">#{agencyId},</if>
			<if test="updatedDate != null  ">#{updatedDate},</if>
         </trim>
    </insert>
	 
    <update id="updateActivity" parameterType="Activity">
        update aomygod.party_activity
        <trim prefix="SET" suffixOverrides=",">
            <if test="title != null  and title != ''  ">title = #{title},</if>
            <if test="desc != null  and desc != ''  ">`desc` = #{desc},</if>
            <if test="descUrl != null  and descUrl != ''  ">desc_url = #{descUrl},</if>
            <if test="imgUrl != null  and imgUrl != ''  ">img_url = #{imgUrl},</if>
            <if test="createdDate != null  ">created_date = #{createdDate},</if>
            <if test="agencyId != null  ">agency_id = #{agencyId},</if>
            <if test="updatedDate != null  ">updated_date = #{updatedDate},</if>
        </trim>
        where id = #{id}
    </update>

	<delete id="deleteActivityById" parameterType="Integer">
        delete from aomygod.party_activity where id = #{id}
    </delete>
	
    <delete id="deleteActivityByIds" parameterType="String">
        delete from aomygod.party_activity where id in 
        <foreach item="id" collection="array" open="(" separator="," close=")">
            #{id}
        </foreach>
    </delete>
    
</mapper>